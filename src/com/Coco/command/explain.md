# 命令模式



### 问题引出

* 需求
  * Coco 买了一套智能家电, 有照明灯、风扇、冰箱、洗衣机、空调、电饭锅…… Coco要求只在手机上安装 app 就可以控制这些家电.
  * 这些智能家电来自不同的厂商, Coco不想针对每一种家电都安装一个 app 分别控制, Coco希望只要一个 app 就可以控制全部的智能家电.
  * 开发实现一个 app 控制所有智能家电, 则要每个家电厂提供一个统一的接口个 app 调用, 这时就可以考虑使用命令模式.
  * 命令模式可以将 **动作的请求者** 从 **动作的执行者** 对象中解耦出来.
  * 在这个例子中, 动作的请求者是手机app , 动作的执行者是每个厂商的家电产品.



### 基本介绍

1. 命令模式: 在软件设计中, 我们经常需要向某些对象发送请求, 但是并不知道请求的接受者是谁, 也不知道被请求的操作是哪个. 我们只需要在程序运行时指定具体的请求接收者即可, 此时, 可以使用命令模式来进行设计.
2. 命令模式使得 **请求发送者** 与 **请求接受者** **消除彼此之间的耦合**, 让对象之间的调用关系更加灵活, **实现解耦**.
3. 在命令模式中, 会将一个请求封装为一个对象, 以便使用不同参数来表示不同的请求(即命名), 同时命令模式也支持可撤销的操作.
4. 通俗易懂的理解: 将军发布命令, 士兵执行. 
   * 其中的角色: 将军(命令发布者), 士兵(命令的执行者), 命令(连接将军和士兵)
     * Invoker: 调用者(将军)
     * Receiver: 被调用者(士兵)
     * MyCommand: 命令, 实现Command接口, 持有接收对象



