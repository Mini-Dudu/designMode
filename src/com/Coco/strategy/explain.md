# 策略模式

### 问题引出

* 鸭子项目

  * 需求

    1. 有各种鸭子

       例如: 野鸭、北京鸭、水鸭等等;

    2. 鸭子有各种行为

       例如: 叫、飞行等等;

    3. 编写程序显示鸭子的信息.



### 基本介绍

1. 策略模式中, 定义算法族, 分别封装起来, 让它们之间可以相互替换, 此模式让算法的变化独立于使用算法的客户.
2. 这种算法体现了几个设计原则, 第一: 把变化的代码从不变的代码中分离出来; 第二: 针对接口编程而不是具体类(定义了策略接口); 第三: 多用组合/聚合, 少用继承(通过组合方式使用策略)



### JDK 中的策略模式

* JDK 中 Arrays 的 Comparator 就使用到了策略模式



### 注意事项及细节

1. 策略模式的关键是: 分析项目中**变化部分**(策略)与**不变部分**(使用方);
2. 则略模式的**核心思想**: **多用组合/聚合, 少用继承**; 用行为类的组合/聚合, 而不是行为类的继承, 更有弹性;
3. 体现了 **对修改关闭, 对扩展开放** 原则, 客户端增加行为不用修改代码, 只要添加一种策略(或者行为)即可, 避免了使用多重转移语句(if else);
4. 提供了可以替换继承关系的办法: 策略模式将算法封装在独立的 Strategy 类中使得可以独立于其它 Context (语境、环境、背景; 这里译为具体) 改变它, 使它易于切换、易于理解、易于扩展;
5. 需要注意的是: 每添加一个策略就要增加一个类, 当策略过多时会导致类树木庞大.



