# 迭代器模式

### 学校院系展示需求

- 编写程序展示一个学校的院系结构: 

  - 需求, 要在一个页面中展示出学校的院系组成, 一个学校有多少个院系, 一个学院有多少个系.

  - 如图

    ![](E:\笔记\其他\Java设计模式\院系展示需求.png)

- 传统方式

  - 采用 系(专业) **继承** 院系, 学院 **继承** 学校.



### 传统方式解决存在的问题分析

1. 将学院看作是学校的子类, 系是学院的子类, 这样实际上是按照组织大小的方式来进行分层次的.
2. 实际上我们的要求是: 在一个页面中展示出学校院系组成, 一个学校有多个学院, 一个学院有多个系, 因此这种方案, 不能很好地实现 **管理操作** 比如对学院、系的添加, 删除、**遍历**等操作.
3. 解决方案: ==> 迭代器模式





### 基本介绍

1. 迭代器模式是常用的设计模式, 属于行为模式.
2. 如果我们的 **集合元素是用不同的方式实现** , 有数组、还有 Java 的集合类 或者还有其他方式， 当客户端要 **遍历这些集合元素** 的时候就要使用多种遍历方式, 而且还会暴露元素的内部结构, 这时候可以使用迭代器模式来解决.
3. 迭代器模式, 提供一种遍历集合元素的统一的接口, 用一致的方法遍历集合元素, 不需要知道集合对象的底层表示, 即: 不暴露其内部结构.




### JDK 中的 迭代器模式

* JDK 中的 ArrayList 集合就使用到了迭代器模式.




### 注意事项及细节

* 优点:
  1. 提供一个统一的遍历对象, 客户不用再考虑聚合的类型, 使用一种方法就可以遍历对象了.
  2. 隐藏了聚合对象的内部结构, 客户端要遍历聚合的对象的时候只能取到迭代器, 而不会知道聚合的具体组成.
  3. 提供了一种设计思想, 就是一个类应该只有一个引起变化的原因(叫做 **单一职责原则**) .在聚合类中, 我们把迭代器分开, 就是要把管理对象集合和遍历对象集合的责任分开, 这样一来集合改变的话, 只影响聚合对象. 而如果遍历方式改变的话, 只影响到了迭代器.
  4. 当要展示一组相似对象, 或者遍历一组相同对象时, 适合采用迭代器模式.
* 缺点:
  * 每个聚合对象都要一个迭代器, 会生成多个迭代器, 不好管理类.



