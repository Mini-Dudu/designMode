# 模板方法模式

### 基本介绍

1. 模板方法模式又叫模板模式, 在一个抽象类公开定义执行它的方法的模板. 它的子类可以按需要重写方法实现, 但调用可以抽象类中定义方式进行.
2. 简单说, **模板方法模式** 定义一个操作中的算法的骨架, 而将一些步骤延迟到子类中, 使得子类可以不改变一个算法的结构, 就可以重新定义该算法的某些特定步骤.
3. 模板方法模式属于行为型模式




### 钩子方法

* 在模板方法模式的父类中, 我们可以定义一个方法, 它默认不做任何事情, 子类可以视情况要不要覆盖它, 该方法称为 **钩子方法**
* 还是用上面做豆浆的例子, 我们还希望制作纯豆浆, 不添加任何配料, 使用钩子方法对前面的模板方法模式进行改进.




### 模板方法模式的注意事项和细节

* 基本思想: **算法只存在于一个地方, 也就是父类中, 容易修改**, 需要修改算法时, 只需要修改父类的模板方法或者已实现的某些步骤, 子类就会继承这些修改
* **实现类最大化代码复用**. 父类的模板方法和已实现的某些步骤会被子类继承而直接使用.
* **即统一了算法, 也提供了很大的灵活性**. 父类的模板方法确保了算法的结构保持不变, 同时由子类提供部分步骤的实现.
* **该模式的不足**: 每一个不同的实现都需要一个子类实现, 导致类的个数增加, 使得系统更加庞大.
* 一般模板方法都加上final 修饰, 防止子类重写模板方法.
* 使用场景: **当要完成某个过程, 该过程要执行一系列步骤, 这一系列的步骤基本相同, 但其个别步骤在实现时可能不同**, 通常考虑使用模板方法模式来处理.







### 框架中的模板方法模式

* Spring 框架中的 IOC 容器初始化时就用到了模板方法模式